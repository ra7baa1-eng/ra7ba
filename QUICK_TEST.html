<!DOCTYPE html>
<html>
<head>
    <title>Ra7ba Quick Test</title>
    <meta charset="utf-8">
</head>
<body>
    <h1>🧪 اختبار سريع لـ Ra7ba</h1>
    
    <div id="result"></div>
    
    <button onclick="testBackend()">اختبار الباكند</button>
    <button onclick="testRegister()">اختبار التسجيل</button>
    
    <script>
        async function testBackend() {
            const result = document.getElementById('result');
            result.innerHTML = '⏳ جاري الاختبار...';
            
            try {
                const response = await fetch('https://ra7ba.onrender.com/api');
                const data = await response.json();
                result.innerHTML = `✅ الباكند يعمل: ${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                result.innerHTML = `❌ خطأ في الباكند: ${error.message}`;
            }
        }
        
        async function testRegister() {
            const result = document.getElementById('result');
            result.innerHTML = '⏳ جاري اختبار التسجيل...';
            
            const testData = {
                email: "test" + Date.now() + "@example.com",
                password: "123456789",
                name: "Test User",
                phone: "0555123456",
                storeName: "Test Store",
                storeNameAr: "متجر تجريبي",
                subdomain: "test" + Date.now()
            };
            
            try {
                const response = await fetch('https://ra7ba.onrender.com/api/auth/register/merchant', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testData)
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    result.innerHTML = `🎉 التسجيل نجح!<br><pre>${JSON.stringify(data, null, 2)}</pre>`;
                } else {
                    result.innerHTML = `❌ فشل التسجيل:<br><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                result.innerHTML = `❌ خطأ في الشبكة: ${error.message}`;
            }
        }
    </script>
</body>
</html>
